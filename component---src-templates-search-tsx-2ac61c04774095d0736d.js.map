{"version":3,"file":"component---src-templates-search-tsx-2ac61c04774095d0736d.js","mappings":"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","sources":["webpack://lotus/./src/components/pagination.tsx","webpack://lotus/./src/components/postCard.tsx","webpack://lotus/./src/components/postList.tsx","webpack://lotus/./src/components/seo.tsx","webpack://lotus/./src/templates/search.tsx"],"sourcesContent":["import { Link } from 'gatsby';\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\n\r\ninterface DataProps {\r\n  // currentPage: number;\r\n  numPages: number;\r\n  tag?: string;\r\n  series?: string;\r\n  // baseUrl?: string;\r\n}\r\n\r\nconst PagenationWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 2em 0;\r\n`;\r\n\r\nconst PagenationLink = styled(Link)`\r\n  width: 30px;\r\n  height: 30px;\r\n  border: 0px;\r\n  /* background-color: var(--background-color); */\r\n  border-radius: 2px;\r\n  border: 1px solid var(--theme-ui-colors-border);\r\n  color: var(--theme-ui-colors-text);\r\n  text-decoration: none;\r\n  display: grid;\r\n  place-items: center;\r\n  margin: 0.15em;\r\n\r\n  &:first-child {\r\n    border-top-left-radius: 4px;\r\n    border-bottom-left-radius: 4px;\r\n  }\r\n  &:last-child {\r\n    border-top-right-radius: 4px;\r\n    border-bottom-right-radius: 4px;\r\n  }\r\n`;\r\n\r\nconst Pagenation: React.FC<DataProps> = ({\r\n  // currentPage,\r\n  numPages,\r\n  tag,\r\n  series,\r\n  // baseUrl,\r\n}) => {\r\n  // const params = new URLSearchParams(document.location.search);\r\n  // const tag = params.get('tag') ?? '';\r\n  return (\r\n    <PagenationWrapper>\r\n      {Array.from({ length: numPages }).map((_, i) => (\r\n        <PagenationLink\r\n          key={i}\r\n          to={\r\n            i + 1 === 1\r\n              ? `/${tag ? `tag/${tag}` : series ? `series/${series}` : null}`\r\n              : `/${tag ? `tag/${tag}/` : series ? `series/${series}/` : null}${\r\n                  i + 1\r\n                }`\r\n          }\r\n        >\r\n          {i + 1}\r\n        </PagenationLink>\r\n      ))}\r\n    </PagenationWrapper>\r\n  );\r\n};\r\n\r\nexport default Pagenation;\r\n","import { Link } from 'gatsby';\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\n\r\ninterface PostCardProps {\r\n  slug: string;\r\n  title: string;\r\n  date: string;\r\n  excerpt: string;\r\n}\r\n\r\nconst PostLinkItem = styled(Link)`\r\n  color: var(--theme-ui-colors-text);\r\n  text-decoration: none;\r\n  /* padding: 0.3em; */\r\n  &:visited {\r\n    color: var(--theme-ui-colors-text);\r\n  }\r\n`;\r\n\r\nconst Card = styled.article`\r\n  /* width: 450px; */\r\n  /* height: 200px; */\r\n  /* margin: 1em; */\r\n  /* border: 2px solid var(--border-color); */\r\n\r\n  /* background-color: var(--button-color); */\r\n  border: 1px solid var(--theme-ui-colors-border);\r\n  border-radius: 4px;\r\n  transition: color 0.15s ease-out, background 0.15s ease-out,\r\n    transform 0.15s ease-out, box-shadow 0.15s ease-out, border 0.15s ease-out;\r\n  display: flex;\r\n  flex-direction: row;\r\n\r\n  @media only screen and (max-device-width: 600px) {\r\n    /* height: 110px; */\r\n    /* min-width: 300px; */\r\n  }\r\n`;\r\n\r\nconst Frontmatter = styled.div`\r\n  padding: 0.2em 0.5em;\r\n  font-family: var(--main-font);\r\n  /* width: 490px; */\r\n\r\n  h2 {\r\n    margin: 0;\r\n    padding: 0;\r\n    font-size: 1.3em;\r\n  }\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  display: -webkit-box;\r\n  -moz-box-orient: vertical;\r\n  -webkit-line-clamp: 4;\r\n  overflow: hidden;\r\n  word-break: break-all;\r\n  color: var(--theme-ui-colors-text);\r\n`;\r\n\r\nconst Excerpt = styled.p`\r\n  display: -webkit-box;\r\n  -moz-box-orient: vertical;\r\n  -webkit-line-clamp: 4;\r\n  overflow: hidden;\r\n  word-break: break-all;\r\n  color: var(--theme-ui-colors-mute);\r\n`;\r\n\r\nconst Data = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst PostCard: React.FC<PostCardProps> = ({ slug, title, date, excerpt }) => {\r\n  return (\r\n    <Card>\r\n      <Frontmatter>\r\n        <PostLinkItem to={`/post/${slug}`}>\r\n          <Title>{title}</Title>\r\n          <Data>\r\n            <Excerpt>{excerpt}</Excerpt>\r\n          </Data>\r\n        </PostLinkItem>\r\n      </Frontmatter>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default PostCard;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport PostCard from './postCard';\r\nimport Pagenation from './pagination';\r\n\r\ninterface IData {\r\n  posts?: IPost[];\r\n  // pageContext: {\r\n  //   limit: number;\r\n  //   skip: number;\r\n  //   numPages: number;\r\n  //   currentPage: number;\r\n  // };\r\n  // currentPage: number;\r\n  usePagination?: boolean;\r\n  numPages?: number;\r\n  tag?: string;\r\n  series?: string;\r\n  // baseUrl?: string;\r\n}\r\n\r\nconst Posts = styled.div`\r\n  grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));\r\n  grid-template-rows: repeat(auto-fill, minmax(130px, 1fr));\r\n  display: grid;\r\n  gap: 20px;\r\n  /* flex-direction: row;\r\n  flex-wrap: wrap;\r\n  justify-content: center; */\r\n  @media only screen and (max-device-width: 600px) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n`;\r\n\r\nconst PostList: React.FC<IData> = ({\r\n  posts,\r\n  // currentPage,\r\n  numPages,\r\n  usePagination,\r\n  tag,\r\n  series,\r\n  // baseUrl,\r\n}) => {\r\n  return (\r\n    <>\r\n      <Posts>\r\n        {posts &&\r\n          posts.map((node, i) => (\r\n            <PostCard\r\n              key={node.id}\r\n              // key={i}\r\n              slug={node.frontmatter.slug}\r\n              title={node.frontmatter.title}\r\n              date={node.frontmatter.date}\r\n              excerpt={node.excerpt || ''}\r\n            />\r\n          ))}\r\n      </Posts>\r\n      {usePagination === undefined && numPages ? (\r\n        <Pagenation tag={tag} series={series} numPages={numPages} />\r\n      ) : usePagination && numPages ? (\r\n        <Pagenation tag={tag} series={series} numPages={numPages} />\r\n      ) : (\r\n        ''\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PostList;\r\n","import * as React from 'react';\r\nimport { graphql, useStaticQuery } from 'gatsby';\r\n\r\nconst Seo: React.FC<{\r\n  title: string;\r\n  date?: string;\r\n  description?: string;\r\n  slug?: string;\r\n}> = ({ title, date, description, slug }) => {\r\n  const data = useStaticQuery(graphql`\r\n    query {\r\n      site {\r\n        siteMetadata {\r\n          siteUrl\r\n          title\r\n          description\r\n          nickname\r\n          logo\r\n        }\r\n      }\r\n    }\r\n  `);\r\n\r\n  return (\r\n    <>\r\n      <title>\r\n        {title} | {data.site.siteMetadata.title}\r\n      </title>\r\n      <meta charSet=\"UTF-8\" />\r\n      <meta name=\"description\" content={data.site.siteMetadata.description} />\r\n      <meta httpEquiv=\"Author\" content={data.site.siteMetadata.nickname} />\r\n      <meta property=\"og:image\" content={data.site.siteMetadata.logo} />\r\n      <meta property=\"og:title\" content={title} />\r\n      <meta property=\"og:site_name\" content={data.site.siteMetadata.title} />\r\n      {date && <meta name=\"Date\" content={date} />}\r\n      {description && <meta property=\"og:description\" content={description} />}\r\n      {slug && (\r\n        <meta\r\n          property=\"og:url\"\r\n          content={data.site.siteMetadata.siteUrl + slug}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Seo;\r\n","import { graphql, HeadFC, PageProps } from 'gatsby';\r\nimport React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport Layout from '../components/layout';\r\nimport PostList from '../components/postList';\r\nimport Seo from '../components/seo';\r\n\r\ninterface DataProps {\r\n  allMarkdownRemark: {\r\n    nodes: IPost[];\r\n  };\r\n}\r\n\r\nconst SearchInput = styled.input`\r\n  background-color: transparent;\r\n  border: 0;\r\n  /* border-bottom: 1px solid var(--theme-ui-colors-text); */\r\n  color: var(--theme-ui-colors-text);\r\n  font-family: var(--main-font);\r\n  font-size: 1em;\r\n  width: 380px;\r\n  &:focus {\r\n    outline: 0;\r\n  }\r\n  &::placeholder {\r\n    color: var(--theme-ui-colors-mute);\r\n    opacity: 80%;\r\n    font-style: italic;\r\n  }\r\n`;\r\n\r\nconst SearchDiv = styled.div`\r\n  width: 380px;\r\n  position: relative;\r\n  display: flex;\r\n  &::after {\r\n    content: ' ';\r\n    background-color: var(--theme-ui-colors-text);\r\n    transform: translateX(0px);\r\n    width: 381px;\r\n    height: 1px;\r\n    bottom: -4px;\r\n    position: absolute;\r\n  }\r\n`;\r\n\r\nconst SearchWapper = styled.div`\r\n  display: grid;\r\n  place-items: center;\r\n  padding: 3em 0;\r\n`;\r\n\r\nconst Search = ({ data }: PageProps<DataProps>) => {\r\n  const [result, setResult] = useState<IPost[]>();\r\n  useEffect(() => {\r\n    setResult((prev) => (prev = data.allMarkdownRemark.nodes));\r\n  }, []);\r\n\r\n  const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const SearchFilter = (node: IPost) => {\r\n      const {\r\n        target: { value: query },\r\n      } = e;\r\n      const title = node.frontmatter.title.toLowerCase();\r\n      const body = node.rawMarkdownBody?.toLowerCase() || '';\r\n      const querys = query.toLowerCase().split(' ');\r\n\r\n      if (query === '') return true;\r\n\r\n      const queryResult = querys.map((q) => {\r\n        if (q === '') return false;\r\n        return title.search(q) !== -1 || body.search(q) !== -1;\r\n      });\r\n\r\n      return queryResult.includes(true);\r\n    };\r\n    const temp: IPost[] = data.allMarkdownRemark.nodes.filter(SearchFilter);\r\n    // console.log(temp);\r\n    setResult((prev) => (prev = temp));\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <SearchWapper>\r\n        <SearchDiv>\r\n          <SearchInput\r\n            type=\"text\"\r\n            onChange={onChange}\r\n            placeholder=\"Search...\"\r\n          />\r\n        </SearchDiv>\r\n      </SearchWapper>\r\n      <PostList posts={result} />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n\r\nexport const Head: HeadFC = () => <Seo title=\"Search\" />;\r\n\r\nexport const pageQuery = graphql`\r\n  query SearchPage {\r\n    allMarkdownRemark(\r\n      sort: { order: DESC, fields: frontmatter___date }\r\n      filter: { frontmatter: { type: { ne: \"about\" } } }\r\n    ) {\r\n      nodes {\r\n        frontmatter {\r\n          title\r\n          date(formatString: \"MMM D, YYYY\")\r\n          slug\r\n          tag\r\n        }\r\n        excerpt\r\n        rawMarkdownBody\r\n        id\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":["PagenationWrapper","styled","PagenationLink","Link","numPages","tag","series","_jsx","Array","from","length","map","_","i","to","PostLinkItem","Card","Frontmatter","Title","Excerpt","Data","slug","title","excerpt","date","_jsxs","Posts","posts","usePagination","node","PostCard","frontmatter","id","undefined","Pagenation","description","data","useStaticQuery","site","siteMetadata","charSet","name","content","httpEquiv","nickname","property","logo","siteUrl","SearchInput","displayName","componentId","SearchDiv","SearchWapper","useState","result","setResult","useEffect","prev","allMarkdownRemark","nodes","Layout","children","type","onChange","e","temp","filter","query","target","value","toLowerCase","body","rawMarkdownBody","_node$rawMarkdownBody","querys","split","q","search","includes","placeholder","PostList","Head","Seo"],"sourceRoot":""}